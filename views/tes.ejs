<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="/socket.io/socket.io.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="/w3css/w3css.css">
</head>
<body class="w3-content" style="max-width:500px; overflow-y: hidden !important;">
    <div class="w3-container" style="height: 100%;">
        <div class="w3-container" style="height: 90%;">
            <div class="w3-container w3-indigo">
                <select name="room" id="room">
                    <option value="">one</option>
                    <option value="">two</option>                    
                </select>
            </div>
            <div class="w3-container" id="coco" style="overflow-y:auto">    
            </div>
        </div>
        <div class="w3-container w3-teal w3-bottom w3-padding-small" id="bot">
            <div class="w3-row">
                <div  class="w3-col w3-container s9 m7 l7">
                    <input type="text" id="coll" class="w3-input w3-round-xxlarge">
                </div>
                <div class="w3-container w3-col s3 m5 l5">
                    <button onclick="message()" class="w3-button w3-card-2 w3-circle"> send</button>
                </div>
            </div>
        </div>
    </div>

    
</body>
<script>
    const socket = io();
    socket.emit('conn', 'ade');
    console.log(bot.style.height + " "+ innerHeight)
    // const namer= prompt('Your name');
    
    socket.on('mess', (data) => {
        // let roomer=(data.room =="room1")?room1:room2;
                return coco.innerHTML+=
            `                 
                <div style="width: ${(innerWidth<400)?'100%':'60%'};
                 margin-${(data.name =='beyond')?'left':'right'}:10% ; margin-top:10px; 
                 " class="w3-card w3-round-medium ${(data.name =='beyond')?'w3-blue':'w3-indigo'}">
                    <div class="w3-container w3-small">
                        <div class="w3-left">
                            ${new Date().toDateString()} : ${data.name} :${data.room}
                        </div>
                    </div>
                    <div class="container">
                        ${data.message}
                    </div>
                </div>  
            `
            });
    message=()=>{
        // if(coll.value){
            socket.emit('mess', {name:"beyond", message: coll.value, room:room.value}/*coll.value*/ )
        // }
    };

</script>
</html>